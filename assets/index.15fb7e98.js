export function __vite_legacy_guard(){import("data:text/javascript,")}import{j as e,r as t,R as n,a as r}from"./vendor.8e8af136.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const o=e.exports.jsx,s=e.exports.jsxs,i=e.exports.Fragment,l=e=>{const t=e.todos.filter((e=>!e.isDone)).length;return s(i,{children:[s("div",{children:["Всего задач: ",e.todos.length]}),s("div",{children:["Осталось выполнить: ",t]})]})};var a,c,u="_flex-wrapper_nk4yk_1",d="_input_nk4yk_10",h="_create-button_nk4yk_29",p="_create-icon_nk4yk_34";function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var _=function(e){return t.exports.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),a||(a=t.exports.createElement("path",{d:"M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"})),c||(c=t.exports.createElement("path",{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"})))};const g=e=>{const t=n.createRef();return s("div",{className:u,children:[o("textarea",{placeholder:"Введите задачу",rows:"1",required:!0,className:d,ref:t,onInput:e=>{const t=e.target.offsetHeight-e.target.clientHeight;e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+t+"px"}}),o("button",{onClick:n=>{const r=t.current,o=r.value.trim();r.value="",r.style.height="auto",o&&e.onCreate(o)},className:`button ${h}`,children:o(_,{className:p})})]})};var f,v={"list-item":"_list-item_ulzer_1","list-item__inner":"_list-item__inner_ulzer_26",checkbox:"_checkbox_ulzer_34",text:"_text_ulzer_40",done:"_done_ulzer_60","delete-button":"_delete-button_ulzer_69","delete-icon":"_delete-icon_ulzer_74","focus-visible":"_focus-visible_ulzer_1"};function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}var y=function(e){return t.exports.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),f||(f=t.exports.createElement("path",{d:"m1.79-.191-1.981 1.98L10.019 12-.19 22.21l1.98 1.981L12 13.981l10.21 10.21 1.981-1.98L13.981 12 24.19 1.79l-1.98-1.981L12 10.019Zm0 0"})))};const b=e=>{let n=!1;const r=t.exports.createRef(),[i,l]=t.exports.useState(e.visible),a=(t=!1)=>{const n=r.current;n.style.border=0,n.style.height=getComputedStyle(n).height,requestAnimationFrame((()=>{n.style.height=0})),t&&c(n,"height",(()=>e.onDelete(e.index)))},c=(e,t,n)=>{const r=e=>{e.propertyName===t&&(n(),e.target.removeEventListener("transitionend",r))};e.addEventListener("transitionend",r)};t.exports.useEffect((()=>{!i&&e.visible&&l(!0),i&&!e.visible&&(a(),c(r.current,"height",(()=>l(!1))))}),[e.visible]),t.exports.useLayoutEffect((()=>{i&&(()=>{const e=r.current,t=getComputedStyle(e).height;e.style.height=0,requestAnimationFrame((()=>{e.style.height=t}))})()}),[i]);const u=e.todo,d=[v.text,u.isDone?v.done:""].join(" ");return i?o("li",{ref:r,className:v["list-item"],children:s("label",{className:v["list-item__inner"],children:[o("input",{type:"checkbox",checked:u.isDone,onChange:t=>{e.onIsDoneChange(e.index)},className:v.checkbox}),o("span",{className:d,children:u.text}),o("button",{onClick:e=>{n||(n=!0,a(!0))},className:`button ${v["delete-button"]}`,children:o(y,{className:v["delete-icon"]})})]})}):null};var w="_todo-list_qu5mk_1",k="_list_qu5mk_5";const N=e=>{const t=e.todos,n=e.filter,r=t.map(((t,r)=>{let s=!1;return"all"===n&&(s=!0),"done"===n&&t.isDone&&(s=!0),"not done"!==n||t.isDone||(s=!0),o(b,{todo:t,index:r,visible:s,onIsDoneChange:e.onIsDoneChange,onDelete:e.onDelete},t.id)}));return o("div",{className:w,children:o("ul",{className:k,children:r})})};var D="_filter-select_xq55b_1";const C=e=>s("select",{value:e.filter,className:D,onChange:t=>e.onFilterChange(t.target.value),children:[o("option",{value:"all",children:"Все"}),o("option",{value:"done",children:"Выполненные"}),o("option",{value:"not done",children:"Не выполненные"})]});let L=0;class z{constructor(e,t=!1){this.id=L++,this.text=e,this.isDone=t,this.date=new Date}}const E=[new z("Помыть посуду",!1),new z("Написать книгу",!0),new z("Написать вторую книгу",!0),new z("Посмотреть телевизор",!0)];const j=e=>{const[n,r]=t.exports.useState(E),[i,a]=t.exports.useState("all");return s("div",{className:"app",children:[o(l,{todos:n}),o(g,{onCreate:e=>{const t=[...n,new z(e,!1)];r(t)}}),o(C,{onFilterChange:e=>{a(e)}}),o(N,{todos:n,filter:i,onIsDoneChange:e=>{const t=[...n];t[e].isDone=!t[e].isDone,r(t)},onDelete:e=>{const t=[...n];t.splice(e,1),r(t)}})]})};r.render(o(n.StrictMode,{children:o(j,{})}),document.getElementById("root"));

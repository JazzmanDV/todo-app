var e=Object.defineProperty,t=(t,n,s)=>(((t,n,s)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s})(t,"symbol"!=typeof n?n+"":n,s),s);export function __vite_legacy_guard(){import("data:text/javascript,")}import{j as n,R as s,r,a as o}from"./vendor.8e8af136.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const i=n.exports.jsx,a=n.exports.jsxs,l=n.exports.Fragment;class h extends s.Component{render(){const e=this.props.todos.filter((e=>!e.isDone)).length;return a(l,{children:[a("div",{children:["Всего задач: ",this.props.todos.length]}),a("div",{children:["Осталось выполнить: ",e]})]})}}var c,d,p="_flex-wrapper_1y7xd_1",u="_input_1y7xd_10",m="_create-button_1y7xd_34",g="_create-icon_1y7xd_42";function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_.apply(this,arguments)}var f=function(e){return r.exports.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),c||(c=r.exports.createElement("path",{d:"M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"})),d||(d=r.exports.createElement("path",{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"})))};class x extends s.Component{constructor(){super(...arguments),t(this,"textareaRef",s.createRef()),t(this,"autosize",(e=>{const t=e.target.offsetHeight-e.target.clientHeight;e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+t+"px"})),t(this,"handleButtonClick",(e=>{const t=this.textareaRef.current,n=t.value.trim();t.value="",t.style.height="auto",n&&this.props.onCreate(n)}))}render(){return a("div",{className:p,children:[i("textarea",{placeholder:"Введите задачу",rows:"1",required:!0,ref:this.textareaRef,onInput:this.autosize,className:u}),i("button",{onClick:this.handleButtonClick,className:m,children:i(f,{className:g})})]})}}var v,y={"list-item":"_list-item_rbl4w_1","list-item__inner":"_list-item__inner_rbl4w_26",checkbox:"_checkbox_rbl4w_34",text:"_text_rbl4w_40",done:"_done_rbl4w_60","delete-button":"_delete-button_rbl4w_69","delete-icon":"_delete-icon_rbl4w_79"};function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},b.apply(this,arguments)}var w=function(e){return r.exports.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),v||(v=r.exports.createElement("path",{d:"m1.79-.191-1.981 1.98L10.019 12-.19 22.21l1.98 1.981L12 13.981l10.21 10.21 1.981-1.98L13.981 12 24.19 1.79l-1.98-1.981L12 10.019Zm0 0"})))};class C extends s.Component{constructor(){super(...arguments),t(this,"listItemRef",s.createRef()),t(this,"willBeDeleted",!1),t(this,"handleCheckboxChange",(e=>{this.props.onIsDoneChange(this.props.index)})),t(this,"handleTransitionEnd",(e=>{"height"===e.propertyName&&this.props.onDelete(this.props.index)})),t(this,"handleButtonClick",(e=>{if(this.willBeDeleted)return;this.willBeDeleted=!0;const t=this.listItemRef.current,n=getComputedStyle(t).height;requestAnimationFrame((()=>{t.style.height=n,t.style.border=0,requestAnimationFrame((()=>{t.style.height=0}))})),t.addEventListener("transitionend",this.handleTransitionEnd)}))}componentDidMount(){const e=this.listItemRef.current,t=getComputedStyle(e).height;requestAnimationFrame((()=>{e.style.height=0,requestAnimationFrame((()=>{e.style.height=t}))}))}componentWillUnmount(){this.listItemRef.current.removeEventListener("transitionend",this.handleTransitionEnd)}render(){const e=this.props.todo,t=[y.text,e.isDone?y.done:""].join(" ");return i("li",{ref:this.listItemRef,className:y["list-item"],children:a("label",{className:y["list-item__inner"],children:[i("input",{type:"checkbox",checked:e.isDone,onChange:this.handleCheckboxChange,className:y.checkbox}),i("span",{className:t,children:e.text}),i("button",{onClick:this.handleButtonClick,className:y["delete-button"],children:i(w,{className:y["delete-icon"]})})]})})}}var D="_todo-list_qu5mk_1",k="_list_qu5mk_5";class N extends s.Component{render(){const e=this.props.todos.map(((e,t)=>i(C,{todo:e,index:t,onIsDoneChange:this.props.onIsDoneChange,onDelete:this.props.onDelete},e.id)));return i("div",{className:D,children:i("ul",{className:k,children:e})})}}let I=0;class E{constructor(e,t=!1){this.id=I++,this.text=e,this.isDone=t,this.date=new Date}}const j=[new E("Помыть посуду",!1),new E("Написать книгу",!0),new E("Написать вторую книгу",!0),new E("Посмотреть телевизор",!0)];var L="_app_17y96_31";class R extends s.Component{constructor(){super(...arguments),t(this,"state",{todos:j}),t(this,"handleIsDoneChange",(e=>{const t=[...this.state.todos];t[e].isDone=!t[e].isDone,this.setState({todos:t})})),t(this,"handleCreate",(e=>{const t=[...this.state.todos,new E(e,!1)];this.setState({todos:t})})),t(this,"handleDelete",(e=>{const t=[...this.state.todos];t.splice(e,1),this.setState({todos:t})}))}render(){return a("div",{className:L,children:[i(h,{todos:this.state.todos}),i(x,{onCreate:this.handleCreate}),i(N,{todos:this.state.todos,onIsDoneChange:this.handleIsDoneChange,onDelete:this.handleDelete})]})}}o.render(i(s.StrictMode,{children:i(R,{})}),document.getElementById("root"));
